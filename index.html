<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>How to Read the ECMAScript Specification</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li li { font-size:   85%;    }

	.toc > li             { margin: 1.5rem 0;    }
	.toc > li li          { margin: 0.3rem 0;    }
	.toc > li li li       { margin-left: 2rem;   }

	/* Section numbers in a column of their own */
	.toc .secno {
		float: left;
		width: 4rem;
		white-space: nowrap;
	}
	.toc > li li li li .secno {
		font-size: 85%;
	}
	.toc > li li li li li .secno {
		font-size: 100%;
	}

	:not(li) > .toc              { margin-left:  5rem; }
	.toc .secno                  { margin-left: -5rem; }
	.toc > li li li .secno       { margin-left: -7rem; }
	.toc > li li li li .secno    { margin-left: -9rem; }
	.toc > li li li li li .secno { margin-left: -11rem; }

	/* Tighten up indentation in narrow ToCs */
	@media (max-width: 30em) {
		:not(li) > .toc              { margin-left:  4rem; }
		.toc .secno                  { margin-left: -4rem; }
		.toc > li li li              { margin-left:  1rem; }
		.toc > li li li .secno       { margin-left: -5rem; }
		.toc > li li li li .secno    { margin-left: -6rem; }
		.toc > li li li li li .secno { margin-left: -7rem; }
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) :not(li) > .toc              { margin-left:  4rem; }
		body:not(.toc-inline) .toc .secno                  { margin-left: -4rem; }
		body:not(.toc-inline) .toc > li li li              { margin-left:  1rem; }
		body:not(.toc-inline) .toc > li li li .secno       { margin-left: -5rem; }
		body:not(.toc-inline) .toc > li li li li .secno    { margin-left: -6rem; }
		body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	body.toc-sidebar #toc :not(li) > .toc              { margin-left:  4rem; }
	body.toc-sidebar #toc .toc .secno                  { margin-left: -4rem; }
	body.toc-sidebar #toc .toc > li li li              { margin-left:  1rem; }
	body.toc-sidebar #toc .toc > li li li .secno       { margin-left: -5rem; }
	body.toc-sidebar #toc .toc > li li li li .secno    { margin-left: -6rem; }
	body.toc-sidebar #toc .toc > li li li li li .secno { margin-left: -7rem; }

	.toc li {
		clear: both;
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version bbd6a9c4064dd454886bb3e0c74f0a19865c3c74" name="generator">
  <link href="https://timothygu.me/es-howto/" rel="canonical">
  <meta content="9a325e0b75448256b268c0f873f04be90d179363" name="document-revision">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #222222 } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">How to Read the ECMAScript Specification</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Document, <time class="dt-updated" datetime="2018-01-11">11 January 2018</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://timothygu.me/es-howto/">https://timothygu.me/es-howto/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/TimothyGu/es-howto/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt>Author:
     <dd>
      <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://timothygu.me/">Timothy Gu</a> <a class="u-email email" href="mailto:timothygu99@gmail.com">timothygu99@gmail.com</a>
    </dl>
   </div>
   <div data-fill-with="warning">
    <details class="annoying-warning" open="">
     <summary>Work in Progress</summary>
     <p>This document is still under heavy iteration. Parts may appear to be unedited, incomplete, or outright wrong. If it sounds either offsensive to you or just patently wrong, please <a href="https://twitter.com/Timothy__Gu">DM</a> me, but beware that it’s not a finished product.</p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img alt="CC BY-SA 4.0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"></a> This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" rel="license">Creative Commons Attribution-ShareAlike 4.0 International License</a>, which is available at https://creativecommons.org/licenses/by-sa/4.0/.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>How to read the ECMAScript specification.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#prelude"><span class="secno">1</span> <span class="content">Prelude</span></a>
     <ol class="toc">
      <li><a href="#why-should-i-read-the-ecmascript-specification"><span class="secno">1.1</span> <span class="content">Why should I read the ECMAScript specification</span></a>
      <li><a href="#what-belongs-to-the-ecmascript-specification"><span class="secno">1.2</span> <span class="content">What belongs to the ECMAScript specification, and what does not</span></a>
      <li><a href="#where-is-the-ecmascript-specification"><span class="secno">1.3</span> <span class="content">Before going any further, <em>where</em> is the ECMAScript specification?</span></a>
      <li><a href="#navigating-the-spec"><span class="secno">1.4</span> <span class="content">Navigating the spec</span></a>
     </ol>
    <li>
     <a href="#runtime-semantics"><span class="secno">2</span> <span class="content">Runtime semantics</span></a>
     <ol class="toc">
      <li><a href="#algorithm-steps"><span class="secno">2.1</span> <span class="content">Algorithm steps</span></a>
      <li><a href="#abstract-operations"><span class="secno">2.2</span> <span class="content">Abstract operations</span></a>
      <li>
       <a href="#what-is-this"><span class="secno">2.3</span> <span class="content">What is [[This]]</span></a>
       <ol class="toc">
        <li><a href="#double-brackets-field-of-record"><span class="secno">2.3.1</span> <span class="content">A field of a Record</span></a>
        <li><a href="#double-brackets-internal-slot-of-javascript-object"><span class="secno">2.3.2</span> <span class="content">An internal slot of a JavaScript Object</span></a>
        <li><a href="#double-brackets-internal-method-of-javascript-object"><span class="secno">2.3.3</span> <span class="content">An internal method of a JavaScript Object</span></a>
       </ol>
      <li><a href="#completion-records-and-shorthands"><span class="secno">2.4</span> <span class="content">Completion Records; <code class="highlight"><span class="o">?</span></code> and <code class="highlight"><span class="o">!</span></code></span></a>
      <li><a href="#javascript-objects"><span class="secno">2.5</span> <span class="content">JavaScript Objects</span></a>
      <li><a href="#example-string-prototype-substring"><span class="secno">2.6</span> <span class="content">Example: <code class="idl highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">()</span></code></span></a>
      <li><a href="#example-can-boolean-and-string-ever-throw-exceptions"><span class="secno">2.7</span> <span class="content">Example: Can <code class="idl highlight">Boolean<span class="p">()</span></code> and <code class="idl highlight">String<span class="p">()</span></code> ever throw exceptions?</span></a>
      <li><a href="#example-typeof-operator"><span class="secno">2.8</span> <span class="content">Example: <code class="highlight"><span class="k">typeof</span></code> operator</span></a>
     </ol>
    <li>
     <a href="#glossary"><span class="secno"></span> <span class="content">Glossary</span></a>
     <ol class="toc">
      <li><a href="#common-abstract-operations"><span class="secno"></span> <span class="content">Common abstract operations</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <div class="non-normative">
    <h2 class="heading settled" data-level="1" id="prelude"><span class="secno">1. </span><span class="content">Prelude</span><a class="self-link" href="#prelude"></a></h2>
    <p>So you’ve decided that reading a bit of ECMAScript spec each day is good for your health. Maybe it was a New Year’s resolution, or maybe it was just your doctor’s prescription. Whatever it is, welcome aboard!</p>
    <p class="note" role="note"><span>Note:</span> In this document, I will only use the term "ECMAScript" to refer to the specification itself, and "JavaScript" anywhere else. However, both terms refer to the same thing. (There are some historical distinctions of ECMAScript vs. JavaScript, but discussing that is outside the scope of this document, and you can <a href="https://www.google.com/search?q=ecmascript+vs.+javascript">Google that distinction</a> very easily.)</p>
    <h3 class="heading settled" data-level="1.1" id="why-should-i-read-the-ecmascript-specification"><span class="secno">1.1. </span><span class="content">Why should I read the ECMAScript specification</span><a class="self-link" href="#why-should-i-read-the-ecmascript-specification"></a></h3>
    <p>The ECMAScript specification is the authoritative source of the behavior of all JavaScript implementations, whether it be in your browser <a data-link-type="biblio" href="#biblio-whatismybrowser">[WHATISMYBROWSER]</a>, on your server through Node.js <a data-link-type="biblio" href="#biblio-nodejs">[NODEJS]</a>, in spacesuits <a data-link-type="biblio" href="#biblio-nodejs-nasa">[NODEJS-NASA]</a>, or on your IoT device <a data-link-type="biblio" href="#biblio-johnny-five">[JOHNNY-FIVE]</a>. All developers of JavaScript engines depend on the spec to make sure their shiny new feature works as intended, in the same way other JavaScript engines do.</p>
    <p>But I claim that the utility of the spec extends beyond the mythical creatures known as "developers of JavaScript engines." In fact, I say that <strong>it is useful to you, the average JavaScript coder, and you just haven’t realized it.</strong></p>
    <p>Suppose you discover the following peculiar juxtaposition at work one day</p>
<pre class="language-js highlight"><span class="o">></span> Array<span class="p">.</span>prototype<span class="p">.</span>push<span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="mi">1</span>
<span class="o">></span> Array<span class="p">.</span>prototype
<span class="p">[</span> <span class="mi">42</span> <span class="p">]</span>
<span class="o">></span> Array<span class="p">.</span>isArray<span class="p">(</span>Array<span class="p">.</span>prototype<span class="p">)</span>
<span class="kc">true</span>
<span class="o">></span> Set<span class="p">.</span>prototype<span class="p">.</span>add<span class="p">(</span><span class="mi">42</span><span class="p">)</span>
TypeError<span class="o">:</span> Method Set<span class="p">.</span>prototype<span class="p">.</span>add called on incompatible receiver #<span class="o">&lt;</span>Set<span class="o">></span>
    at Set<span class="p">.</span>add <span class="p">(</span><span class="o">&lt;</span>anonymous<span class="o">></span><span class="p">)</span>
<span class="o">></span> Set<span class="p">.</span>prototype
Set <span class="p">{}</span>
</pre>
    <p>and are very confused why a method works on its prototype, but another method does not work on <em>its</em> prototype. <a href="https://www.google.com/search?q=array+prototype+push+on+prototype">Google unfortunately always fails when you need it the most</a>, and <a href="https://stackoverflow.com/search?q=array+prototype+push+on+prototype">so does the ever-helpful Stack Overflow</a>.</p>
    <p>Reading the spec can help.</p>
    <p>Or, you might wonder just how the heck does the notorious <a data-link-type="dfn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Equality_operators" id="ref-for-Equality_operators">loose equality operator</a> (<code class="highlight"><span class="o">==</span></code>) actually function (using the word "function" <em>loosely</em> here <a data-link-type="biblio" href="#biblio-wat">[WAT]</a>). Ever the studious software engineer, you look it up on MDN, only to find its <a data-link-type="dfn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Comparison_Operators#Using_the_Equality_Operators" id="ref-for-Using_the_Equality_Operators">paragraphs of explanation</a> hurt your eyes more than they help.</p>
    <p>Reading the spec can help.</p>
    <p>On the other hand, I do not recommend reading the ECMAScript specification to developers new to JavaScript. If you are new to JavaScript, then play around with the web! build some web apps! or some JavaScript-based nannycams! or anything! and consider returning to this document when you have either experienced enough JavaScript warts or gotten rich enough to not have to worry about JavaScript.</p>
    <p>Okay, now you know specifications can be very helpful tools in helping you understand the intricacies in a language or platform. But what exactly falls into in the realm of the ECMAScript specification?</p>
    <h3 class="heading settled" data-level="1.2" id="what-belongs-to-the-ecmascript-specification"><span class="secno">1.2. </span><span class="content">What belongs to the ECMAScript specification, and what does not</span><a class="self-link" href="#what-belongs-to-the-ecmascript-specification"></a></h3>
    <p>The textbook answer to this question is "only language features go into the ECMAScript specification." But that doesn’t help, since that’s like saying "JavaScript features are JavaScript." And I’m not one for tautologies <a data-link-type="biblio" href="#biblio-xkcd-703">[XKCD-703]</a>.</p>
    <p>Instead, what I’m going to do is list some things that are commonly seen in JavaScript apps, and tell you if each of them is a language feature or not.</p>
    <table class="data">
     <tbody>
      <tr>
       <td>Syntax of syntactic elements (i.e., what a valid <code class="highlight"><span class="k">for</span></code>..<code class="highlight"><span class="k">in</span></code> loop looks like) 
       <td>✔ 
      <tr>
       <td>Semantics of syntactic elements (i.e., what <code class="highlight"><span class="k">typeof</span> <span class="kc">null</span></code>, or <code class="highlight"><span class="p">{</span> a<span class="o">:</span> b <span class="p">}</span></code> returns) 
       <td>✔ 
      <tr>
       <td><code class="highlight"><span class="kr">import</span> a from <span class="s1">'a'</span><span class="p">;</span></code> 
       <td>🤔<sup>[1]</sup> 
      <tr>
       <td><code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-object-objects" id="ref-for-sec-object-objects">Object</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects" id="ref-for-sec-array-objects">Array</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-function-objects" id="ref-for-sec-function-objects">Function</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-number-objects" id="ref-for-sec-number-objects">Number</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-math-object" id="ref-for-sec-math-object">Math</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-regexp-regular-expression-objects" id="ref-for-sec-regexp-regular-expression-objects">RegExp</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects">Proxy</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-map-objects" id="ref-for-sec-map-objects">Map</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-promise-objects" id="ref-for-sec-promise-objects">Promise</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-arraybuffer-objects" id="ref-for-sec-arraybuffer-objects">ArrayBuffer</a></code>, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-typedarray-objects" id="ref-for-sec-typedarray-objects">Uint8Array</a></code>, ... 
       <td>✔ 
      <tr>
       <td><code class="idl highlight">console</code>, <code class="idl highlight">setTimeout<span class="p">()</span></code>, <code class="idl highlight">setInterval<span class="p">()</span></code>, <code class="idl highlight">clearTimeout<span class="p">()</span></code>, <code class="idl highlight">clearInterval<span class="p">()</span></code> 
       <td>✘<sup>[2]</sup> 
      <tr>
       <td><code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/buffer.html#buffer_class_buffer" id="ref-for-buffer_class_buffer">Buffer</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_process" id="ref-for-globals_process">process</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_global" id="ref-for-globals_global">global</a></code>*, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_setimmediate_callback_args" id="ref-for-globals_setimmediate_callback_args">setImmediate()</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/globals.html#globals_clearimmediate_immediateobject" id="ref-for-globals_clearimmediate_immediateobject">clearImmediate()</a></code> 
       <td>✘<sup>[3]</sup> 
      <tr>
       <td><code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_module" id="ref-for-modules_module">module</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_exports" id="ref-for-modules_exports">exports</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_require" id="ref-for-modules_require">require()</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_dirname" id="ref-for-modules_dirname">__dirname</a></code>, <code class="idl"><a data-link-type="idl" href="https://nodejs.org/api/modules.html#modules_filename" id="ref-for-modules_filename">__filename</a></code> 
       <td>✘<sup>[4]</sup> 
      <tr>
       <td><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#dom-window" id="ref-for-dom-window">window</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert" id="ref-for-dom-alert">alert()</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-confirm" id="ref-for-dom-confirm">confirm()</a></code>, the DOM (<code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#dom-document-2" id="ref-for-dom-document-2">document</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="ref-for-htmlelement">HTMLElement</a></code>, <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener" id="ref-for-dom-eventtarget-addeventlistener">addEventListener()</a></code>, <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/workers.html#worker" id="ref-for-worker">Worker</a></code>, ...) 
       <td>✘<sup>[5]</sup> 
    </table>
    <div class="note" role="note">
      <sup>[1]</sup> The ECMAScript spec specifies the syntax of such declarations and what are supposed to mean, but does not specify how the module is loaded. 
     <p><sup>[2]</sup> These things are available in both browsers and Node.js, but are non-standard. For Node.js, they are documented/specified by <a data-link-type="dfn" href="https://nodejs.org/api/globals.html#globals_global_objects" id="ref-for-globals_global_objects">its documentation</a>. For browsers, <code class="idl"><a data-link-type="idl" href="https://console.spec.whatwg.org/#namespacedef-console" id="ref-for-namespacedef-console">console</a></code> is specified by the Console Standard <a data-link-type="biblio" href="#biblio-console">[CONSOLE]</a>, while the rest is specified by the HTML Standard <a data-link-type="biblio" href="#biblio-html">[HTML]</a>.</p>
     <p><sup>[3]</sup> These are all Node.js-only globals, documented/specified by <a data-link-type="dfn" href="https://nodejs.org/api/globals.html#globals_global_objects" id="ref-for-globals_global_objects①">its documentation</a>. * <code class="idl highlight">global</code> actually has a chance of becoming a part of ECMAScript and be implemented in browsers as well <a data-link-type="biblio" href="#biblio-ecma-262-global">[ECMA-262-GLOBAL]</a>.</p>
     <p><sup>[4]</sup> These are Node.js-only module-wide "globals", documented/specified by <a data-link-type="dfn" href="https://nodejs.org/api/modules.html#modules_modules" id="ref-for-modules_modules">its documentation</a>.</p>
     <p><sup>[5]</sup> These are all browser-only things.</p>
    </div>
    <h3 class="heading settled" data-level="1.3" id="where-is-the-ecmascript-specification"><span class="secno">1.3. </span><span class="content">Before going any further, <em>where</em> is the ECMAScript specification?</span><a class="self-link" href="#where-is-the-ecmascript-specification"></a></h3>
    <p>When you <a href="https://www.google.com/search?q=ecmascript+specification">Google "ECMAScript specification"</a> you see <em>so many results,</em> all claiming to be the legitimate specification. Which one should you read??</p>
    <p><strong>Tl;dr, most likely than not, the specification published at tc39.github.io/ecma262/ is the one you want</strong> <a data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>.</p>
    <p>Long version:</p>
    <p>The ECMAScript language specification is developed by a group of people from diverse backgrounds, known as the Ecma International Technical Committee 39 (or as they are more familiarly known, TC39 <a data-link-type="biblio" href="#biblio-tc39">[TC39]</a>). TC39 maintains the latest specification for the ECMAScript language at tc39.github.io <a data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>.</p>
    <p>What complicates the matter is that, every year, TC39 picks a point in time to take a snapshot of the spec to become the ECMAScript Language <em>Standard</em> of that year, along with an edition number. For example, the <em>ECMAScript® 2017 Language Specification (ECMA-262, 8th edition)</em> <a data-link-type="biblio" href="#biblio-ecma-262-2017">[ECMA-262-2017]</a> (popularly known as ES8) is simply the spec as seen at tc39.github.io <a data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a> in June 2017, put into formaldehyde, properly shrinkwrapped and PDFified for permanent archives.</p>
    <p>Because of that, unless you want your web application to run on only browsers from June 2017 that are put into formaldehyde, properly shrinkwrapped, and PDFified for permanent archives, you want to always look at the latest spec at tc39.github.io <a data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>. But if you want to (or have to) support older browsers or Node.js versions, then referencing the older specifications may help.</p>
    <p class="note" role="note"><span>Note:</span> The ISO/IEC also publishes the ECMAScript Language Standard as ISO/IEC 16262 <a data-link-type="biblio" href="#biblio-iso-16262-2011">[ISO-16262-2011]</a>. But as you can tell from the linked page, the ISO/IEC standard is currently stuck on Edition 3 (which ironically is supposed to be fully "current"). So if you want to look at a spec written <a data-link-type="dfn" href="https://caniuse.com/#feat=es5" id="ref-for-feat=es5">before</a> <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array.prototype.foreach" id="ref-for-sec-array.prototype.foreach">Array.prototype.forEach()</a></code> was introduced to the language <a data-link-type="biblio" href="#biblio-caniuse">[CANIUSE]</a>, you may purchase the standard from ISO for <a href="https://www.google.com/search?q=198+swiss+francs+in+my+currency">198 Swiss Francs</a>. (In other words, don’t.)</p>
    <h3 class="heading settled" data-level="1.4" id="navigating-the-spec"><span class="secno">1.4. </span><span class="content">Navigating the spec</span><a class="self-link" href="#navigating-the-spec"></a></h3>
    <p>The ECMAScript specification talks about a <strong>HUGE</strong> amount of things. Even though its authors try their best to separate it into logical chunks, it’s still a huge text.</p>
    <p>Personally, I like to divide the spec into five parts:</p>
    <ul>
     <li data-md="">
      <p>Conventions and basics ("what is a Number? what does it mean when the spec says 'throw a <strong>TypeError</strong> exception'?")</p>
     <li data-md="">
      <p>Grammar productions of the language ("how does one write a <code class="highlight"><span class="k">for</span></code>-<code class="highlight"><span class="k">in</span></code> loop?")</p>
     <li data-md="">
      <p>Static semantics of the language ("how are variable names determined in a <code class="highlight"><span class="kd">var</span></code> statement?")</p>
     <li data-md="">
      <p>Runtime semantics of the language ("how is a <code class="highlight"><span class="k">for</span></code>-<code class="highlight"><span class="k">in</span></code> loop executed?")</p>
     <li data-md="">
      <p>APIs ("what does <code class="idl highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">()</span></code> do?")</p>
    </ul>
    <p>but that’s not how the spec organizes it. Instead, it puts the first bullet point in <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-notational-conventions" id="ref-for-sec-notational-conventions">§5 Notational Conventions</a> through <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-ordinary-and-exotic-objects-behaviours" id="ref-for-sec-ordinary-and-exotic-objects-behaviours">§9 Ordinary and Exotic Objects Behaviours</a>, the next three in an interleaved form in <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-source-code" id="ref-for-sec-ecmascript-language-source-code">§10 ECMAScript Language: Source Code</a> through <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-ecmascript-language-scripts-and-modules" id="ref-for-sec-ecmascript-language-scripts-and-modules">§15 ECMAScript Language: Scripts and Modules</a>, like</p>
    <blockquote>
     <ul>
      <li data-md="">
       <p><a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-if-statement" id="ref-for-sec-if-statement">§13.6 The <code class="highlight"><span class="k">if</span></code> Statement</a> <strong>Grammar productions</strong></p>
       <ul>
        <li data-md="">
         <p>§13.6.1-6 <strong>Static semantics</strong></p>
        <li data-md="">
         <p>§13.6.7 <strong>Runtime sematics</strong></p>
       </ul>
      <li data-md="">
       <p><a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-iteration-statements" id="ref-for-sec-iteration-statements">§13.7 Iteration Statements</a> <strong>Grammar productions</strong></p>
       <ul>
        <li data-md="">
         <p>§13.7.1 Shared <strong>static</strong> and <strong>runtime semantics</strong></p>
        <li data-md="">
         <p>§13.7.2 The <code class="highlight"><span class="k">do</span></code>-<code class="highlight"><span class="k">while</span></code> Statement</p>
         <ul>
          <li data-md="">
           <p>§13.7.2.1-5 <strong>Static semantics</strong></p>
          <li data-md="">
           <p>§13.7.2.6 <strong>Runtime semantics</strong></p>
         </ul>
        <li data-md="">
         <p>§13.7.3 The <code class="highlight"><span class="k">while</span></code> Statement</p>
         <ul>
          <li data-md="">
           <p>...</p>
         </ul>
       </ul>
     </ul>
    </blockquote>
    <p>while the APIs are spread out through clauses <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-global-object" id="ref-for-sec-global-object">§18 The Global Object</a> through <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-reflection" id="ref-for-sec-reflection">§26 Reflection</a>.</p>
    <p>At this point, I’d like to point out that <strong>absolutely no one</strong> reads the spec from top to bottom. Rather, only look at the section corresponding to what you are trying to look for, and <em>in</em> that section only look at what you need. Try to determine which one of the five big sections your specific question relates to; and if you are having trouble determining which one it is, ask yourself the question "at which time is <em>this</em> (whatever you are trying to confirm) evaluated?" which may help. Don’t worry, navigating the spec will only become easier with practice.</p>
    <h2 class="heading settled" data-level="2" id="runtime-semantics"><span class="secno">2. </span><span class="content">Runtime semantics</span><a class="self-link" href="#runtime-semantics"></a></h2>
    <p>Runtime semantics of The Language and APIs are the biggest parts of the spec, and usually the ones people have the most questions about.</p>
    <p>On the whole, reading these sections in the spec is pretty straightforward. However, the spec employs a lot of shorthands that are pretty icky for people just starting out (at least for me). I’m going to try explaining some of these conventions, and then apply them to a usual workflow of figuring out how several things work.</p>
    <h3 class="heading settled" data-level="2.1" id="algorithm-steps"><span class="secno">2.1. </span><span class="content">Algorithm steps</span><a class="self-link" href="#algorithm-steps"></a></h3>
    <p>Most runtime semantics in ECMAScript are specified by a series of algorithm steps, not unlike pseudocode but in a much more precise form.</p>
    <div class="example" id="example-479856a2">
     <a class="self-link" href="#example-479856a2"></a> 
     <div class="algorithm" data-algorithm="sample set of algorithm steps">
      <p>A sample set of algorithm steps are:</p>
      <ol>
       <li data-md="">
        <p>Let <var>a</var> be <strong>1</strong>.</p>
       <li data-md="">
        <p>Let <var>b</var> be <var>a</var>+<var>a</var>.</p>
       <li data-md="">
        <p>If <var>b</var> is <strong>2</strong>, then</p>
        <ol>
         <li data-md="">
          <p>Hooray! Arithmetics isn’t broken.</p>
        </ol>
       <li data-md="">
        <p>Else</p>
        <ol>
         <li data-md="">
          <p>Boo!</p>
        </ol>
      </ol>
     </div>
    </div>
    <p class="note" role="note">Further reading: <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions" id="ref-for-sec-algorithm-conventions">§5.2 Algorithm Conventions</a></p>
    <h3 class="heading settled" data-level="2.2" id="abstract-operations"><span class="secno">2.2. </span><span class="content">Abstract operations</span><a class="self-link" href="#abstract-operations"></a></h3>
    <p>You will sometimes see a function-like thing being called in the spec. The first step of the <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value">Boolean()</a></code> function is:</p>
    <div class="algorithm" data-algorithm="to execute Boolean() (excerpt)">
     <p>When <code class="idl highlight">Boolean</code> is called with argument <var>value</var>, the following steps are taken:</p>
     <ol>
      <li data-md="">
       <p>Let <var>b</var> be <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toboolean" id="ref-for-sec-toboolean">ToBoolean</a>(<var>value</var>).</p>
      <li data-md="">
       <p>...</p>
     </ol>
    </div>
    <p>That "ToBoolean" function is called an <dfn data-dfn-type="dfn" data-noexport="" id="abstract-operation">abstract operation<a class="self-link" href="#abstract-operation"></a></dfn>: it’s abstract because it is not actually exposed as a function to JavaScript code. It is simply an notation spec writers invented to allow them to not write the same things over and over again.</p>
    <p class="note" role="note">Further reading: <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-algorithm-conventions-abstract-operations" id="ref-for-sec-algorithm-conventions-abstract-operations">§5.2.1 Abstract Operations</a></p>
    <h3 class="heading settled" data-level="2.3" id="what-is-this"><span class="secno">2.3. </span><span class="content">What is [[This]]</span><a class="self-link" href="#what-is-this"></a></h3>
    <p>From time to time, you may see the <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="double brackets notation" data-noexport="" id="double-brackets-notation">[[Notation]]</dfn> being used like "Let <var>proto</var> be <var>obj</var>.[[Prototype]]." This notation can technically mean several different things depending on the context in which it appears, but you would go a long way with the understanding that this notation refers to some internal property that is not observable through JavaScript code.</p>
    <p>Precisely, it can mean three different things, which I will illustrate with examples from the specification. Feel free to skip them for now, however.</p>
    <h4 class="heading settled" data-level="2.3.1" id="double-brackets-field-of-record"><span class="secno">2.3.1. </span><span class="content">A field of a Record</span><a class="self-link" href="#double-brackets-field-of-record"></a></h4>
    <p>The ECMAScript spec uses the term <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="record">Record</dfn> to refer to a key-value map with a fixed set of keys -- a bit like a structure in C-like languages. Each key-value pair of a <a data-link-type="dfn" href="#record" id="ref-for-record">Record</a> is called a <dfn class="dfn-paneled" data-dfn-for="Record" data-dfn-type="dfn" data-noexport="" id="record-field">field</dfn>. Because <a data-link-type="dfn" href="#record" id="ref-for-record①">Records</a> can only appear in specifications and not in actual JavaScript code, it makes sense to use the <a data-link-type="dfn" href="#double-brackets-notation" id="ref-for-double-brackets-notation">[[Notation]]</a> to refer to <a data-link-type="dfn" href="#record-field" id="ref-for-record-field">fields</a> of a <a data-link-type="dfn" href="#record" id="ref-for-record②">Record</a>.</p>
    <div class="example" id="example-5de9ef43">
     <a class="self-link" href="#example-5de9ef43"></a> 
     <p>Notably, <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type" id="ref-for-sec-property-descriptor-specification-type">Property Descriptors</a> are also modeled as <a data-link-type="dfn" href="#record" id="ref-for-record③">Records</a> with <a data-link-type="dfn" href="#record-field" id="ref-for-record-field①">fields</a> [[Value]], [[Writable]], [[Get]], [[Set]], [[Enumerable]], and [[Configurable]]. The <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-isdatadescriptor" id="ref-for-sec-isdatadescriptor">IsDataDescriptor</a> abstract operation uses this notation to extensively:</p>
     <div class="algorithm" data-algorithm="to call the abstract operation IsDataDescriptor">
      <p>When the abstract operation IsDataDescriptor is called with <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type" id="ref-for-sec-property-descriptor-specification-type①">Property Descriptor</a> <var>Desc</var>, the following steps are taken:</p>
      <ol>
       <li data-md="">
        <p>If <var>Desc</var> is <strong>undefined</strong>, return <strong>false</strong>.</p>
       <li data-md="">
        <p>If both <var>Desc</var>.[[Value]] and <var>Desc</var>.[[Writable]] are absent, return <strong>false</strong>.</p>
       <li data-md="">
        <p>Return <strong>true</strong>.</p>
      </ol>
     </div>
    </div>
    <p>Another concrete example of <a data-link-type="dfn" href="#record" id="ref-for-record④">Records</a> can be found in the next section, <a href="#completion-records-and-shorthands">§2.4 Completion Records; ? and !</a>.</p>
    <p class="note" role="note">Further reading: <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-list-and-record-specification-type" id="ref-for-sec-list-and-record-specification-type">§6.2.1 The List and Record Specification Types</a></p>
    <h4 class="heading settled" data-level="2.3.2" id="double-brackets-internal-slot-of-javascript-object"><span class="secno">2.3.2. </span><span class="content">An internal slot of a JavaScript Object</span><a class="self-link" href="#double-brackets-internal-slot-of-javascript-object"></a></h4>
    <p>JavaScript Objects may have so-called <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot">internal slots</a> that the specification uses to keep data in them. Like <a data-link-type="dfn" href="#record-field" id="ref-for-record-field②">Record fields</a>, these <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot①">internal slots</a> also cannot be observed using JavaScript, but some of them may be exposed through implementation-specific tools like Google Chrome’s DevTools. Thus, it makes sense also to use the <a data-link-type="dfn" href="#double-brackets-notation" id="ref-for-double-brackets-notation①">[[Notation]]</a> to describe <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot②">internal slots</a>.</p>
    <p>The specifics of <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot③">internal slots</a> will be covered in <a href="#javascript-objects">§2.5 JavaScript Objects</a>. For now, don’t worry too much about what they are used for, but do note the following example.</p>
    <div class="example" id="example-65e61801">
     <a class="self-link" href="#example-65e61801"></a> 
     <p>Most JavaScript Objects have an internal slot [[Prototype]] that contains the Object they inherit from. The value of this <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot④">internal slot</a> is usually the value <code class="idl"><a data-link-type="idl" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf#">Object.getPrototypeOf()</a></code> returns. In the <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof" id="ref-for-sec-ordinarygetprototypeof">OrdinaryGetPrototypeOf</a> abstract operation, the value of this <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot⑤">internal slot</a> is accessed:</p>
     <div class="algorithm" data-algorithm="to call the abstract operation OrdinaryGetPrototypeOf">
      <p>When the abstract operation OrdinaryGetPrototypeOf is called with Object <var>O</var>, the following steps are taken:</p>
      <ol>
       <li data-md="">
        <p>Return <var>O</var>.[[Prototype]].</p>
      </ol>
     </div>
    </div>
    <p class="note" role="note"><span>Note:</span> <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot⑥">Internal slots</a> of Objects and <a data-link-type="dfn" href="#record-field" id="ref-for-record-field③">Record fields</a> are identical in appearance, but they can be disambiguated by looking at the precedent of this notation (the part that came before the dot), whether it is an Object or a <a data-link-type="dfn" href="#record" id="ref-for-record⑤">Record</a>. This is usually fairly obvious from the surrounding context.</p>
    <h4 class="heading settled" data-level="2.3.3" id="double-brackets-internal-method-of-javascript-object"><span class="secno">2.3.3. </span><span class="content">An internal method of a JavaScript Object</span><a class="self-link" href="#double-brackets-internal-method-of-javascript-object"></a></h4>
    <p>JavaScript Objects may also have so-called <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method">internal methods</a>. Like <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot⑦">internal slots</a>, these <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method①">internal methods</a> are not directly observable through JavaScript. Thus, it makes sense also to use the <a data-link-type="dfn" href="#double-brackets-notation" id="ref-for-double-brackets-notation②">[[Notation]]</a> to describe <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method②">internal methods</a>.</p>
    <p>The specifics of <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method③">internal methods</a> will be covered in <a href="#javascript-objects">§2.5 JavaScript Objects</a>. For now, don’t worry too much about what they are used for, but do note the following example.</p>
    <div class="example" id="example-d3c0ad9d">
     <a class="self-link" href="#example-d3c0ad9d"></a> 
     <p>All JavaScript functions have an internal method [[Call]] that runs that function. The <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-call" id="ref-for-sec-call">Call</a> abstract operation has the following step:</p>
     <blockquote>
      <ol start="3">
       <li data-md="">
        <p>Return ? <var>F</var>.[[Call]](<var>V</var>, <var>argumentsList</var>).</p>
      </ol>
     </blockquote>
     <p>where <var>F</var> is a JavaScript function object. In this case, the [[Call]] internal method of <var>F</var> is itself called with arguments <var>V</var> and <var>argumentsList</var>.</p>
    </div>
    <p class="note" role="note"><span>Note:</span> This third sense of the <a data-link-type="dfn" href="#double-brackets-notation" id="ref-for-double-brackets-notation③">[[Notation]]</a> can be distinguished from the rest by looking like a function call.</p>
    <h3 class="heading settled" data-level="2.4" id="completion-records-and-shorthands"><span class="secno">2.4. </span><span class="content">Completion Records; <code class="highlight"><span class="o">?</span></code> and <code class="highlight"><span class="o">!</span></code></span><a class="self-link" href="#completion-records-and-shorthands"></a></h3>
    <p>Every runtime semantic in the ECMAScript spec either explicitly or implicitly returns a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="completion-record">Completion Record</dfn> that reports its outcome. This <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record">Completion Record</a> is a <a data-link-type="dfn" href="#record" id="ref-for-record⑥">Record</a> that has three possible <a data-link-type="dfn" href="#record-field" id="ref-for-record-field④">fields</a>:</p>
    <ul>
     <li data-md="">
      <p>a <dfn class="dfn-paneled" data-dfn-for="Completion Record" data-dfn-type="dfn" data-noexport="" id="completion-record-type">[[Type]]</dfn> (<dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export="" id="dom-completion-record-type-normal"><code class="highlight">normal</code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export="" id="dom-completion-record-type-return"><code class="highlight"><span class="k">return</span></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export="" id="dom-completion-record-type-throw"><code class="highlight"><span class="k">throw</span></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export="" id="dom-completion-record-type-break"><code class="highlight"><span class="k">break</span></code></dfn>, or <dfn class="dfn-paneled idl-code" data-dfn-for="Completion Record/[[Type]]" data-dfn-type="enum-value" data-export="" id="dom-completion-record-type-continue"><code class="highlight"><span class="k">continue</span></code></dfn>)</p>
     <li data-md="">
      <p>if the <a data-link-type="dfn" href="#completion-record-type" id="ref-for-completion-record-type">[[Type]]</a> is <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-normal" id="ref-for-dom-completion-record-type-normal">normal</a></code>, <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-return" id="ref-for-dom-completion-record-type-return">return</a></code>, or <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-throw" id="ref-for-dom-completion-record-type-throw">throw</a></code>, then it can also have a <dfn class="dfn-paneled" data-dfn-for="Completion Record" data-dfn-type="dfn" data-noexport="" id="completion-record-value">[[Value]]</dfn> ("what’s returned/thrown")</p>
     <li data-md="">
      <p>if the <a data-link-type="dfn" href="#completion-record-type" id="ref-for-completion-record-type①">[[Type]]</a> is <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-break" id="ref-for-dom-completion-record-type-break">break</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-continue" id="ref-for-dom-completion-record-type-continue">continue</a></code>, then it can optionally carry a <a data-link-type="dfn" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label#">label</a> known as <dfn data-dfn-for="Completion Record" data-dfn-type="dfn" data-noexport="" id="completion-record-target">[[Target]]<a class="self-link" href="#completion-record-target"></a></dfn> that script execution breaks from/continues to as a result of this runtime semantic</p>
    </ul>
    <p class="note" role="note"><span>Note:</span> Two brackets are used to denote <a data-link-type="dfn" href="#record-field" id="ref-for-record-field⑤">fields</a> of <a data-link-type="dfn" href="#record" id="ref-for-record⑦">Records</a>. See <a href="#double-brackets-field-of-record">§2.3.1 A field of a Record</a> for a primer on <a data-link-type="dfn" href="#record" id="ref-for-record⑧">Records</a> and the notations associated with them.</p>
    <p>A <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record①">Completion Record</a> whose <a data-link-type="dfn" href="#completion-record-type" id="ref-for-completion-record-type②">[[Type]]</a> is <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-normal" id="ref-for-dom-completion-record-type-normal①">normal</a></code> is called a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="normal-completion">normal completion</dfn>. Every <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record②">Completion Record</a> other than a <a data-link-type="dfn" href="#normal-completion" id="ref-for-normal-completion">normal completion</a> is also known as an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="abrupt-completion">abrupt completion</dfn>.</p>
    <p>Most of the time, you are only going to deal with <a data-link-type="dfn" href="#abrupt-completion" id="ref-for-abrupt-completion">abrupt completions</a> whose <a data-link-type="dfn" href="#completion-record-type" id="ref-for-completion-record-type③">[[Type]]</a> is <code class="idl"><a data-link-type="idl" href="#dom-completion-record-type-throw" id="ref-for-dom-completion-record-type-throw①">throw</a></code>. The other three abrupt completion types are only useful in seeing how a specific syntactic element is evaluated. In fact, you will never see any of those other types in the definition of a built-in function, since <code class="highlight"><span class="k">break</span></code>/<code class="highlight"><span class="k">continue</span></code>/<code class="highlight"><span class="k">return</span></code> don’t work across function boundaries.</p>
    <p class="note" role="note">Further reading: <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-completion-record-specification-type" id="ref-for-sec-completion-record-specification-type">§6.2.3 The Completion Record Specification Type</a></p>
    <hr>
    <p>Because of the definition of <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record③">Completion Records</a>, niceties in JavaScript like bubbling errors until a <code class="highlight"><span class="k">try</span></code>-<code class="highlight"><span class="k">catch</span></code> block don’t exist in the spec. In fact, errors (or more precisely abrupt completions) are handled explicitly.</p>
    <p>Without any shorthands, the spec text for an ordinary call to an abstract operation that may either return a computation result or throw an error would look like:</p>
    <div class="example" id="example-5b62bca4">
     <a class="self-link" href="#example-5b62bca4"></a> 
     <div class="algorithm" data-algorithm="to call an abstract operation that may throw without any shorthands">
      <p>A few steps that call an abstract operation that may throw <strong><em>without any shorthands</em></strong>:</p>
      <ol>
       <li data-md="">
        <p>Let <var>resultCompletionRecord</var> be AbstractOp().</p>
        <p class="note" role="note"><span>Note:</span> <var>resultCompletionRecord</var> is a <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record④">Completion Record</a>.</p>
       <li data-md="">
        <p>If <var>resultCompletionRecord</var> is an abrupt completion, return <var>resultCompletionRecord</var>.</p>
        <p class="note" role="note"><span>Note:</span> Here, <var>resultCompletionRecord</var> is directly returned if it is an <a data-link-type="dfn" href="#abrupt-completion" id="ref-for-abrupt-completion①">abrupt completion</a>. In other words, errors thrown in AbstractOp are forwarded, and the remaining steps aborted.</p>
       <li data-md="">
        <p>Let <var>result</var> be <var>resultCompletionRecord</var>.[[Value]].</p>
        <p class="note" role="note"><span>Note:</span> After ensuring we got a <a data-link-type="dfn" href="#normal-completion" id="ref-for-normal-completion①">normal completion</a>, we can now unwrap the <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record⑤">Completion Record</a> to get the actual result of the computation we need.</p>
       <li data-md="">
        <p><var>result</var> is the result we need. We can now do more things with it.</p>
      </ol>
     </div>
     <p>This may possibly vaguely remind you of manual error handling in C:</p>
<pre class="language-c highlight"><span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="n">abstractOp</span><span class="p">();</span>              <span class="c1">// Step 1</span>
<span class="c1"></span><span class="k">if</span> <span class="p">(</span><span class="n">result</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>                         <span class="c1">// Step 2</span>
<span class="c1"></span>  <span class="k">return</span> <span class="n">result</span><span class="p">;</span>                        <span class="c1">// Step 2 (continued)</span>
<span class="c1"></span>                                        <span class="c1">// Step 3 is unneeded</span>
<span class="c1">// func() succeeded; carrying on...     // Step 4</span>
</pre>
    </div>
    <p>But to reduce these heavily boilerplated steps, editors of the ECMAScript spec added a few shorthands. Since ES2016, the same spec text can instead be written in the following two equivalent ways:</p>
    <div class="example" id="example-6ae33c42">
     <a class="self-link" href="#example-6ae33c42"></a> 
     <div class="algorithm" data-algorithm="to call an abstract operation that may throw with ReturnIfAbrupt">
      <p>A few steps that call an abstract operation that may throw <strong><em>with <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-returnifabrupt" id="ref-for-sec-returnifabrupt">ReturnIfAbrupt</a></em></strong>:</p>
      <ol>
       <li data-md="">
        <p>Let <var>result</var> be AbstractOp().</p>
        <p class="note" role="note"><span>Note:</span> Here, just like the step 1 in the previous example, <var>result</var> is a <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record⑥">Completion Record</a>.</p>
       <li data-md="">
        <p><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-returnifabrupt" id="ref-for-sec-returnifabrupt①">ReturnIfAbrupt</a>(<var>result</var>).</p>
        <p class="note" role="note"><span>Note:</span> <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-returnifabrupt" id="ref-for-sec-returnifabrupt②">ReturnIfAbrupt</a> deals with any possible <a data-link-type="dfn" href="#abrupt-completion" id="ref-for-abrupt-completion②">abrupt completions</a> by forwarding it, and unwraps the <var>result</var> to its <a data-link-type="dfn" href="#completion-record-value" id="ref-for-completion-record-value">[[Value]]</a> automatically.</p>
       <li data-md="">
        <p><var>result</var> is the result we need. We can now do more things with it.</p>
      </ol>
     </div>
    </div>
    <p>or, even more concisely, with a special <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="?" data-noexport="" id="question-mark">question mark (?)</dfn> notation:</p>
    <div class="example" id="example-870ee162">
     <a class="self-link" href="#example-870ee162"></a> 
     <div class="algorithm" data-algorithm="to call an abstract operation that may throw with a ReturnIfAbrupt shorthand">
      <p>A few steps that call an abstract operation that may throw <strong><em>with a <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark">question mark (?)</a></em></strong>:</p>
      <ol>
       <li data-md="">
        <p>Let <var>result</var> be ? AbstractOp().</p>
        <p class="note" role="note"><span>Note:</span> In this notation we don’t deal with <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record⑦">Completion Records</a> at all. The <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark①">?</a> shorthand handles <em>everything</em> for us, and <var>result</var> is ready to use immediately after.</p>
       <li data-md="">
        <p><var>result</var> is the result we need. We can now do more things with it.</p>
      </ol>
     </div>
    </div>
    <hr>
    <p>Sometimes, it can convey more information to the reader about the spec’s intent if we know that AbstractOp will never return an abrupt completion. In those cases, an <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="!" data-noexport="" id="exclamation-mark">exclamation mark (!)</dfn> is used:</p>
    <div class="example" id="example-b21cdb68">
     <a class="self-link" href="#example-b21cdb68"></a> 
     <div class="algorithm" data-algorithm="to call an abstract operation that cannot never throw with a ReturnIfAbrupt shorthand">
      <p>A few steps that call an abstract operation that cannot ever throw <strong><em>with an <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark">exclamation mark (!)</a></em></strong>:</p>
      <ol>
       <li data-md="">
        <p>Let <var>result</var> be ! AbstractOp().</p>
        <p class="note" role="note"><span>Note:</span> While <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark②">?</a> forwards any errors we may have gotten, <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark①">!</a> asserts that we <em>never</em> get any errors, and it would be a bug in the specification if we do. Like the case with <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark③">?</a>, we don’t deal with <a data-link-type="dfn" href="#completion-record" id="ref-for-completion-record⑧">Completion Records</a> at all. <var>result</var> is ready to use immediately after.</p>
       <li data-md="">
        <p><var>result</var> is the result we need. We can now do more things with it.</p>
      </ol>
     </div>
    </div>
    <div class="advisement no-marker">
     <div class="marker">CAUTION</div>
     <p>The <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark②">!</a> can admittedly become pretty confusing if it is part of a comparison:</p>
     <blockquote>
      <ol start="5">
       <li data-md="">
        <p>..., return the result of the comparison ! <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tonumber" id="ref-for-sec-tonumber">ToNumber</a>(<var>x</var>) == <var>y</var>.</p>
      </ol>
      <p><cite>— Excerpted from <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-abstract-equality-comparison" id="ref-for-sec-abstract-equality-comparison">§7.2.14 Abstract Equality Comparison</a>.</cite></p>
     </blockquote>
     <p>Here, the <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark③">!</a> just means that we are certain <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tonumber" id="ref-for-sec-tonumber①">ToNumber</a> will never return an exception, <em>not</em> that the comparison is inverted!</p>
    </div>
    <p class="note" role="note">Further reading: <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-returnifabrupt-shorthands" id="ref-for-sec-returnifabrupt-shorthands">§5.2.3.4 ReturnIfAbrupt Shorthands</a>.</p>
    <h3 class="heading settled" data-level="2.5" id="javascript-objects"><span class="secno">2.5. </span><span class="content">JavaScript Objects</span><a class="self-link" href="#javascript-objects"></a></h3>
    <p>In ECMAScript, every Object has a set of <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="internal method" data-noexport="" id="internal-method">internal methods</dfn> that the rest of the specification call on to do certain tasks. A few of these <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method④">internal methods</a> that all Objects have are:</p>
    <ul>
     <li data-md="">
      <p>[[Get]], which gets a property on an Object (e.g. <code class="highlight">obj<span class="p">.</span>prop</code>)</p>
     <li data-md="">
      <p>[[Set]], which sets a property on an Object (e.g. <code class="highlight">obj<span class="p">.</span>prop <span class="o">=</span> <span class="mi">42</span><span class="p">;</span></code>)</p>
     <li data-md="">
      <p>[[GetPrototypeOf]], which gets the Object’s prototype (i.e., <code class="highlight">Object<span class="p">.</span>getPrototypeOf<span class="p">(</span>obj<span class="p">)</span></code>)</p>
     <li data-md="">
      <p>[[GetOwnProperty]], which gets the Property Descriptor of an own property of an Object (i.e., <code class="highlight">Object<span class="p">.</span>getOwnPropertyDescriptor<span class="p">(</span>obj<span class="p">,</span> <span class="s2">"prop"</span><span class="p">)</span></code>)</p>
     <li data-md="">
      <p>[[Delete]], which deletes a property on an Object (e.g. <code class="highlight"><span class="k">delete</span> obj<span class="p">.</span>prop</code>)</p>
    </ul>
    <p>(an exhaustive list is available in <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-object-internal-methods-and-internal-slots" id="ref-for-sec-object-internal-methods-and-internal-slots">§6.1.7.2 Object Internal Methods and Internal Slots</a>).</p>
    <p>Based on this definition, <dfn data-dfn-type="dfn" data-lt="function object" data-noexport="" id="function-object">function objects<a class="self-link" href="#function-object"></a></dfn> (or just "functions") are simply Objects that additionally have the [[Call]] internal method, and possibly the [[Construct]] internal method too; for this reason they are also known as <dfn data-dfn-type="dfn" data-lt="callable object" data-noexport="" id="callable-object">callable objects<a class="self-link" href="#callable-object"></a></dfn>.</p>
    <p>The spec then divides all Objects into two camps: <a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object">ordinary objects</a> and <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object">exotic objects</a>. Most of the objects you encounter are <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="ordinary object" data-noexport="" id="ordinary-object">ordinary objects</dfn>, which means that all of their <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑤">internal methods</a> are the default ones specified in <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots" id="ref-for-sec-ordinary-object-internal-methods-and-internal-slots">§9.1 Ordinary Object Internal Methods and Internal Slots</a>.</p>
    <p>However, ECMAScript spec also defines a few kinds of <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="exotic object" data-noexport="" id="exotic-object">exotic objects</dfn>, which may override the default implementations of those internal methods. There are certain minimal constraints put on what exotic objects are allowed to do, but in general the overriden internal methods can do a lot of acrobatics without going against the spec.</p>
    <div class="example" id="example-f3108e50">
     <a class="self-link" href="#example-f3108e50"></a> 
     <p><code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects" id="ref-for-sec-array-objects①">Array</a></code> objects are one kind of these <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object①">exotic objects</a>. Some special semantics around the <code class="idl highlight">length</code> property of <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects" id="ref-for-sec-array-objects②">Array</a></code> objects cannot be achieved using the instruments available to <a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object①">ordinary objects</a>.</p>
     <p>One of them is the fact that setting the <code class="idl highlight">length</code> property of an <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects" id="ref-for-sec-array-objects③">Array</a></code> object can remove properties from the object, but the <code class="idl highlight">length</code> property seems to be just an ordinary data property. In contrast, <code class="highlight"><span class="k">new</span> Map<span class="p">().</span>size</code> is only a getter function specified on <code class="highlight">Map<span class="p">.</span>prototype</code>, and does not have the magical properties <code class="highlight"><span class="p">[].</span>length</code> does.</p>
<pre class="highlight"><span class="o">></span> <span class="kr">const</span> arr <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">];</span>
<span class="o">></span> console<span class="p">.</span>log<span class="p">(</span>arr<span class="p">);</span>
<span class="p">[</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span> <span class="p">]</span>
<span class="o">></span> arr<span class="p">.</span>length <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="o">></span> console<span class="p">.</span>log<span class="p">(</span>arr<span class="p">);</span>
<span class="p">[</span> <span class="mi">0</span> <span class="p">]</span>
<span class="o">></span> console<span class="p">.</span>log<span class="p">(</span>Object<span class="p">.</span>getOwnPropertyDescriptor<span class="p">([],</span> <span class="s2">"length"</span><span class="p">));</span>
<span class="p">{</span> value<span class="o">:</span> <span class="mi">1</span><span class="p">,</span>
  writable<span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
  enumerable<span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  configurable<span class="o">:</span> <span class="kc">false</span> <span class="p">}</span>
</pre>
<pre class="highlight"><span class="o">></span> console<span class="p">.</span>log<span class="p">(</span>Object<span class="p">.</span>getOwnPropertyDescriptor<span class="p">(</span><span class="k">new</span> Map<span class="p">(),</span> <span class="s2">"size"</span><span class="p">));</span>
<span class="kc">undefined</span>
<span class="o">></span> console<span class="p">.</span>log<span class="p">(</span>Object<span class="p">.</span>getOwnPropertyDescriptor<span class="p">(</span>Map<span class="p">.</span>prototype<span class="p">,</span> <span class="s2">"size"</span><span class="p">));</span>
<span class="p">{</span> get<span class="o">:</span> <span class="p">[</span>Function<span class="o">:</span> get size<span class="p">],</span>
  set<span class="o">:</span> <span class="kc">undefined</span><span class="p">,</span>
  enumerable<span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
  configurable<span class="o">:</span> <span class="kc">true</span> <span class="p">}</span>
</pre>
     <p>This behavior is achieved by overriding the [[DefineOwnProperty]] internal method. See <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-array-exotic-objects" id="ref-for-sec-array-exotic-objects">§9.4.2 Array Exotic Objects</a> for details.</p>
    </div>
    <p>The ECMAScript spec also allows other specs to define their own exotic objects. It is through this mechanism the limitations browsers put on <a href="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy#Cross-origin_script_API_access">cross-origin API access</a> are specified (see <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/window-object.html#windowproxy" id="ref-for-windowproxy">WindowProxy</a></code>) <a data-link-type="biblio" href="#biblio-html">[HTML]</a>. It is also possible for JavaScript users to create their own exotic objects through the <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects①">Proxy</a></code> API.</p>
    <hr>
    <p>JavaScript Objects may also have <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="internal slot" data-noexport="" id="internal-slot">internal slots</dfn> defined to contain certain types of values. I tend to think of <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot⑧">internal slots</a> as Symbol-named properties that are hidden even to <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols" id="ref-for-sec-object.getownpropertysymbols">Object.getOwnPropertySymbols()</a></code>. Both <a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object②">ordinary objects</a> and <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object②">exotic objects</a> are allowed to have <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot⑨">internal slots</a>.</p>
    <div class="note" role="note">
     <p>In <a href="#double-brackets-internal-slot-of-javascript-object">§2.3.2 An internal slot of a JavaScript Object</a>, I mentioned an <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot①⓪">internal slot</a> called [[Prototype]] that most Objects have. (In fact, all <a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object③">ordinary objects</a> and even some <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object③">exotic objects</a> like <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-array-objects" id="ref-for-sec-array-objects④">Array</a></code> objects have it.) But we also know that there is an <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑥">internal method</a> called [[GetPrototypeOf]] that I briefly described above. What is the difference?</p>
     <p>The keyword here is <em>most</em>: while <em>most</em> objects have the [[Prototype]] internal slot, <em>all</em> objects implement the [[GetPrototypeOf]] internal method. Notably, <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects②">Proxy</a></code> objects do not have their own [[Prototype]], and its <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof" id="ref-for-sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">[[GetPrototypeOf]]</a> internal method instead defer to either the registered handler or the prototype of its target, stored in the [[ProxyTarget]] internal slot of the <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-proxy-objects" id="ref-for-sec-proxy-objects③">Proxy</a></code> object.</p>
     <p>For this reason, when dealing with Objects, it is almost always a good idea to refer to the appropriate <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑦">internal method</a> rather than directly looking at the value of an <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot①①">internal slot</a>.</p>
    </div>
    <hr>
    <p>Another way of thinking about the relations between Objects, <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑧">internal methods</a>, and <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot①②">internal slots</a> are through a classical object-oriented lens. "Object" is like an interface specifying several <a data-link-type="dfn" href="#internal-method" id="ref-for-internal-method⑨">internal methods</a> that must be implemented. <a data-link-type="dfn" href="#ordinary-object" id="ref-for-ordinary-object④">Ordinary objects</a> provide default implementations, which <a data-link-type="dfn" href="#exotic-object" id="ref-for-exotic-object④">exotic objects</a> may override either partially or fully. On the other hand, <a data-link-type="dfn" href="#internal-slot" id="ref-for-internal-slot①③">internal slots</a> are like instance variables of an Object -- the implementation details of that Object.</p>
    <p>All of these relations are summarized by the following UML diagram (click to enlarge):</p>
    <p><a href="object-uml.svg"><img alt="Boxes denoting concepts and connections between them denoting hierarchy" src="object-uml.svg" style="max-width: 100%"></a></p>
    <h3 class="heading settled" data-level="2.6" id="example-string-prototype-substring"><span class="secno">2.6. </span><span class="content">Example: <code class="idl highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">()</span></code></span><a class="self-link" href="#example-string-prototype-substring"></a></h3>
    <p>Now that we have a pretty good understanding of how the spec is organized and written, let’s practice!</p>
    <p>Suppose I now have the following question:</p>
    <blockquote>
     <p>Without running the code, what does the following code fragment return?</p>
<pre class="language-js highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">.</span>call<span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre>
    </blockquote>
    <p>This is a pretty tricky question. It seems that there are two plausible outcomes:</p>
    <ol>
     <li data-md="">
      <p><code class="idl highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">()</span></code> could first cast <strong>undefined</strong> to the string <code class="highlight"><span class="s2">"undefined"</span></code>, and then take characters at positions two and three (i.e., the interval [2, 4)) of that string to <strong>result in <code class="highlight"><span class="s2">"de"</span></code></strong></p>
     <li data-md="">
      <p>On the other hand, <code class="idl highlight">String<span class="p">.</span>prototype<span class="p">.</span>substring<span class="p">()</span></code> may just as reasonably <strong>throw an error</strong>, thus rejecting <strong>undefined</strong> as an input.</p>
    </ol>
    <p>Unfortunately, <a class="idl-code" data-link-type="method" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring#">MDN</a> also doesn’t really offer any insights on how the function behaves when the <strong>this</strong> value isn’t a string.</p>
    <p><em>Spec to the rescue!</em> After typing in <code class="highlight">substring</code> in the search box in the top-left corner on the spec <a data-link-type="biblio" href="#biblio-ecma-262">[ECMA-262]</a>, we arrive at <a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-string.prototype.substring" id="ref-for-sec-string.prototype.substring">§21.1.3.21 String.prototype.substring ( <var>start</var>, <var>end</var> )</a>, which is the normative specification of how the function works.</p>
    <p>Before reading the algorithm steps, let’s think about what we know first. I assume we have a basic understanding of how <code class="highlight">str<span class="p">.</span>substring<span class="p">()</span></code> ordinarily works, which is to return a part of the given string. What we are not really sure of right now, is how it acts with the <strong>this</strong> value being <strong>undefined</strong>. So, we would specifically look for algorithm steps that address the <strong>this</strong> value.</p>
    <p>Lucky for us, the first step of the algorithm for <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string.prototype.substring" id="ref-for-sec-string.prototype.substring①">String.prototype.substring()</a></code> deals specifically with the <strong>this</strong> value:</p>
    <blockquote>
     <ol>
      <li data-md="">
       <p>Let <em>O</em> be ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible">RequireObjectCoercible</a>(<strong>this</strong> value).</p>
     </ol>
    </blockquote>
    <p>The <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark④">?</a> shorthand allows us to conclude that there may be some cases where the <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible①">RequireObjectCoercible</a> abstract operation may actually throw exceptions, since otherwise <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark④">!</a> would have been used instead. In fact, if it throws an error it would correspond with our second hypothesis above! With hope, we look into what <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible②">RequireObjectCoercible</a> does by clicking on the hyperlink.</p>
    <p>The <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible③">RequireObjectCoercible</a> abstract operation is a little odd. Unlike most abstract operations, it is defined through a table rather than steps:</p>
    <blockquote>
     <table class="data">
      <tbody>
       <tr>
        <th>Argument Type
        <th>Result
       <tr>
        <td>Undefined
        <td>Throw a <strong>TypeError</strong> exception.
       <tr>
        <td>...
        <td>...
     </table>
    </blockquote>
    <p>No matter though -- in the row corresponding to Undefined (the type of the <strong>this</strong> value we passed to <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string.prototype.substring" id="ref-for-sec-string.prototype.substring②">substring()</a></code>) the spec says that <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible④">RequireObjectCoercible</a> should throw an exception. And because the <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑤">?</a> notation is used in the definition of the function, we know that the thrown exception must bubble up to the caller of the function. Bingo!</p>
    <p>And there we have our answer: <strong>the given code fragment throws a TypeError exception.</strong></p>
    <div class="note" role="note">
     <p>The spec only specifies the type of the Error thrown, not what message it contains. This means that implementations can have different error messages, maybe even localized ones.</p>
     <p>On Google’s V8 6.4 (included in Google Chrome 64), for example, the message is</p>
<pre class="highlight">TypeError: String.prototype.substring called on null or undefined
</pre>
     <p>while Mozilla Firefox 57.0 gives a somewhat less helpful</p>
<pre class="highlight">TypeError: can’t convert undefined to object
</pre>
     <p>At the same time, ChakraCore version 1.7.5.0 (the JavaScript engine in Microsoft Edge) take’s V8’s route and throws</p>
<pre class="highlight">TypeError: String.prototype.substring: 'this' is null or undefined
</pre>
    </div>
    <h3 class="heading settled" data-level="2.7" id="example-can-boolean-and-string-ever-throw-exceptions"><span class="secno">2.7. </span><span class="content">Example: Can <code class="idl highlight">Boolean<span class="p">()</span></code> and <code class="idl highlight">String<span class="p">()</span></code> ever throw exceptions?</span><a class="self-link" href="#example-can-boolean-and-string-ever-throw-exceptions"></a></h3>
    <p>When writing mission-critical code, one must put exception handling at the forefront in programming. As such, the question of "can <em>some built-in function</em> ever throw an exception?" may be oft-pondered.</p>
    <p>In this example, we shall try to answer this question for two language built-in functions, <code class="idl highlight">Boolean<span class="p">()</span></code> and <code class="idl highlight">String<span class="p">()</span></code>. We will only look at direct calls to those functions, not the cases of <code class="highlight"><span class="k">new</span> Boolean<span class="p">()</span></code> and <code class="highlight"><span class="k">new</span> String<span class="p">()</span></code> which form boxed objects -- easily one of the [most undesirable features in JavaScript][ydkjs-object-wrappers] and a very much discouraged practice in pretty much all JS style guides out there.</p>
    <p>After navigating to the section for <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value①">Boolean()</a></code> in the spec, we see that the algorithm seems to be fairly short:</p>
    <div class="algorithm" data-algorithm="to execute Boolean()">
     <p>When <code class="idl highlight">Boolean</code> is called with argument <var>value</var>, the following steps are taken:</p>
     <ol>
      <li data-md="">
       <p>Let <var>b</var> be <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toboolean" id="ref-for-sec-toboolean①">ToBoolean</a>(<var>value</var>).</p>
      <li data-md="">
       <p>If NewTarget is <strong>undefined</strong>, return <var>b</var>.</p>
      <li data-md="">
       <p>Let <var>O</var> be ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarycreatefromconstructor" id="ref-for-sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a>(NewTarget, <code class="highlight"><span class="s2">"%BooleanPrototype%"</span></code>, « [[BooleanData]] »).</p>
      <li data-md="">
       <p>Set <var>O</var>.[[BooleanData]] to <var>b</var>.</p>
      <li data-md="">
       <p>Return <var>O</var>.</p>
     </ol>
    </div>
    <p>But on the other hand, it’s not totally straightforward, with some complex acrobatics around <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarycreatefromconstructor" id="ref-for-sec-ordinarycreatefromconstructor①">OrdinaryCreateFromConstructor</a> involved. More importantly, there is a <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑥">?</a> shorthand in step 3 that <em>may</em> indicate this function can throw errors in certain cases. Let’s take a closer look.</p>
    <p>Step 1 casts <var>value</var> (the function argument) to a Boolean value. Interestingly there isn’t a <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑦">?</a> or <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark⑤">!</a> shorthand for this step, but usually not having a Completion Record shorthand means the same thing as <a data-link-type="dfn" href="#exclamation-mark" id="ref-for-exclamation-mark⑥">!</a>. So step 1 cannot throw an exception.</p>
    <p>Step 2 checks if something called <a data-link-type="abstract-op" href="#abstract-opdef-newtarget" id="ref-for-abstract-opdef-newtarget">NewTarget</a> is <strong>undefined</strong>. <dfn class="dfn-paneled" data-dfn-type="abstract-op" data-export="" id="abstract-opdef-newtarget">NewTarget</dfn> is the spec equivalent for the <code class="idl"><a data-link-type="idl" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new.target#">new.target</a></code> meta property that was first added in ES2015, allowing the spec to distinguish between a <code class="highlight"><span class="k">new</span> Boolean<span class="p">()</span></code> call (where it is <code class="highlight">Boolean</code>) and a <code class="highlight">Boolean<span class="p">()</span></code> call (where it is <strong>undefined</strong>). Because we are only looking at direct calls to <code class="highlight">Boolean<span class="p">()</span></code> at this moment, we know that <a data-link-type="abstract-op" href="#abstract-opdef-newtarget" id="ref-for-abstract-opdef-newtarget①">NewTarget</a> is always going to be <strong>undefined</strong>, and the algorithm will always return <var>b</var> straightaway without any additional processing.</p>
    <p>Because calling <code class="highlight">Boolean<span class="p">()</span></code> without <code class="highlight"><span class="k">new</span></code> can only access the first two steps in the algorithm for <code class="highlight">Boolean<span class="p">()</span></code>, neither of which can throw exceptions, we conclude that <strong><code class="idl highlight">Boolean<span class="p">()</span></code> never throws exceptions</strong> no matter what the input is.</p>
    <hr>
    <p>Let’s turn our attention to <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value">String()</a></code>:</p>
    <div class="algorithm" data-algorithm="to execute String()">
     <p>When <code class="idl highlight">String</code> is called with argument <var>value</var>, the following steps are taken:</p>
     <ol>
      <li data-md="">
       <p>If no arguments were passed to this function invocation, let <var>s</var> be <code class="highlight"><span class="s2">""</span></code>.</p>
      <li data-md="">
       <p>Else,</p>
       <ol>
        <li data-md="">
         <p>If NewTarget is <strong>undefined</strong> and <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values" id="ref-for-sec-ecmascript-data-types-and-values">Type</a>(<var>value</var>) is Symbol, return <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-symboldescriptivestring" id="ref-for-sec-symboldescriptivestring">SymbolDescriptiveString</a>(<var>value</var>).</p>
        <li data-md="">
         <p>Let <var>s</var> be ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tostring" id="ref-for-sec-tostring">ToString</a>(<var>value</var>).</p>
       </ol>
      <li data-md="">
       <p>If NewTarget is <strong>undefined</strong>, return <var>s</var>.</p>
      <li data-md="">
       <p>Return ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-stringcreate" id="ref-for-sec-stringcreate">StringCreate</a>(<var>s</var>, ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-getprototypefromconstructor" id="ref-for-sec-getprototypefromconstructor">GetPrototypeFromConstructor</a>(NewTarget, <code class="highlight"><span class="s2">"%StringPrototype%"</span></code>)).</p>
     </ol>
    </div>
    <p>From our experience with doing the same kind of analysis with the <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-boolean-constructor-boolean-value" id="ref-for-sec-boolean-constructor-boolean-value②">Boolean()</a></code> function, we know that <a data-link-type="abstract-op" href="#abstract-opdef-newtarget" id="ref-for-abstract-opdef-newtarget②">NewTarget</a> will always be <strong>undefined</strong> for our case, and therefore the last step can be skipped from our consideration. We also know that <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values" id="ref-for-sec-ecmascript-data-types-and-values①">Type</a> and <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-symboldescriptivestring" id="ref-for-sec-symboldescriptivestring①">SymbolDescriptiveString</a> are safe as well, since abrupt completions are not handled for either of them. Yet, there is still a tell-tale <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑧">?</a> preceding the call to the <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tostring" id="ref-for-sec-tostring①">ToString</a> abstract operation. Let’s take a closer look.</p>
    <p>Like <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible" id="ref-for-sec-requireobjectcoercible⑤">RequireObjectCoercible</a> we looked at earlier, <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tostring" id="ref-for-sec-tostring②">ToString</a>(<var>argument</var>) is also defined with a table:</p>
    <blockquote>
     <table class="data">
      <tbody>
       <tr>
        <th>Argument Type
        <th>Result
       <tr>
        <td>Undefined
        <td>Return <code class="highlight"><span class="s2">"undefined"</span></code>.
       <tr>
        <td>Null
        <td>Return <code class="highlight"><span class="s2">"null"</span></code>.
       <tr>
        <td>Boolean
        <td>
          If <var>argument</var> is <strong>true</strong>, return <code class="highlight"><span class="s2">"true"</span></code>. 
         <p>If <var>argument</var> is <strong>false</strong>, return <code class="highlight"><span class="s2">"false"</span></code>.</p>
       <tr>
        <td>Number
        <td>Return <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-numbertostring" id="ref-for-sec-numbertostring">NumberToString</a>(<var>argument</var>).
       <tr>
        <td>String
        <td>Return <var>argument</var>.
       <tr>
        <td>Symbol
        <td>Throw a <strong>TypeError</strong> exception.
       <tr>
        <td>Object
        <td>
         <p>Apply the following steps:</p>
         <ol>
          <li data-md="">
           <p>Let <var>primValue</var> be ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive">ToPrimitive</a>(<var>argument</var>, hint String).</p>
          <li data-md="">
           <p>Return ? <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tostring" id="ref-for-sec-tostring③">ToString</a>(<var>primValue</var>).</p>
         </ol>
     </table>
    </blockquote>
    <p>At the point where <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-tostring" id="ref-for-sec-tostring④">ToString</a> is called in <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value①">String()</a></code>, <var>value</var> can be any value other than a Symbol (which is filtered out in the step immediately before). Yet, there still remain two <a data-link-type="dfn" href="#question-mark" id="ref-for-question-mark⑨">?</a> in the row for Object. We can follow the link to <a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive①">ToPrimitive</a> and beyond, and see that there are in fact a lot of opportunities for an error to be thrown if <var>value</var> is an Object:</p>
    <div class="example" id="example-90d3296a">
     <a class="self-link" href="#example-90d3296a"></a> 
     <details>
      <summary>Several examples where <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value②">String()</a></code> throws</summary>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinaryget" id="ref-for-sec-ordinaryget"><span class="c1">OrdinaryGet</span></a><span class="c1"> step 8.</span>
<span class="c1">//   </span><a data-link-type="dfn" href="https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver" id="ref-for-sec-ordinary-object-internal-methods-and-internal-slots-get-p-receiver"><span class="c1">Ordinary Object’s [[Get]]()</span></a><span class="c1"> step 1.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-getv" id="ref-for-sec-getv"><span class="c1">GetV</span></a><span class="c1"> step 3.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-getmethod" id="ref-for-sec-getmethod"><span class="c1">GetMethod</span></a><span class="c1"> step 2.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive②"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.d.</span>
<span class="c1"></span>
String<span class="p">({</span>
  get <span class="p">[</span>Symbol<span class="p">.</span>toPrimitive<span class="p">]()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> Error<span class="p">(</span><span class="s2">"Breaking JavaScript"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-getmethod" id="ref-for-sec-getmethod①"><span class="c1">GetMethod</span></a><span class="c1"> step 4.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive③"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.d.</span>
<span class="c1"></span>
String<span class="p">({</span>
  get <span class="p">[</span>Symbol<span class="p">.</span>toPrimitive<span class="p">]()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s2">"Breaking JavaScript"</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive④"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.e.i.</span>
<span class="c1"></span>
String<span class="p">({</span>
  <span class="p">[</span>Symbol<span class="p">.</span>toPrimitive<span class="p">]()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> Error<span class="p">(</span><span class="s2">"Breaking JavaScript"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive⑤"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.e.iii.</span>
<span class="c1"></span>
String<span class="p">({</span>
  <span class="p">[</span>Symbol<span class="p">.</span>toPrimitive<span class="p">]()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span> <span class="s2">"breaking"</span><span class="o">:</span> <span class="s2">"JavaScript"</span> <span class="p">};</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive"><span class="c1">OrdinaryToPrimitive</span></a><span class="c1"> step 5.b.i.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive⑥"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.g.</span>
<span class="c1"></span>
String<span class="p">({</span>
  toString<span class="p">()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> Error<span class="p">(</span><span class="s2">"Breaking JavaScript"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive①"><span class="c1">OrdinaryToPrimitive</span></a><span class="c1"> step 5.b.i.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive⑦"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.g.</span>
<span class="c1"></span>
String<span class="p">({</span>
  valueOf<span class="p">()</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> Error<span class="p">(</span><span class="s2">"Breaking JavaScript"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre>
<pre class="highlight"><span class="c1">// Spec stack trace:</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-ordinarytoprimitive" id="ref-for-sec-ordinarytoprimitive②"><span class="c1">OrdinaryToPrimitive</span></a><span class="c1"> step 6.</span>
<span class="c1">//   </span><a data-link-type="abstract-op" href="https://tc39.github.io/ecma262/#sec-toprimitive" id="ref-for-sec-toprimitive⑧"><span class="c1">ToPrimitive</span></a><span class="c1"> step 2.g.</span>
<span class="c1"></span>
String<span class="p">(</span>Object<span class="p">.</span>create<span class="p">(</span><span class="kc">null</span><span class="p">));</span>
</pre>
     </details>
    </div>
    <p>So for <code class="idl"><a data-link-type="idl" href="https://tc39.github.io/ecma262/#sec-string-constructor-string-value" id="ref-for-sec-string-constructor-string-value③">String()</a></code>, our conclusion is that <strong>it never throws exceptions for primitive values, but <em>may</em> throw errors for Objects.</strong></p>
    <h3 class="heading settled" data-level="2.8" id="example-typeof-operator"><span class="secno">2.8. </span><span class="content">Example: <code class="highlight"><span class="k">typeof</span></code> operator</span><a class="self-link" href="#example-typeof-operator"></a></h3>
    <p>So far, we’ve only analyzed API functions, let’s try something different.</p>
    <p class="issue" id="issue-c1ad3571"><a class="self-link" href="#issue-c1ad3571"></a> To be written. <a href="https://github.com/TimothyGu/es-howto/issues/2">&lt;https://github.com/TimothyGu/es-howto/issues/2></a></p>
    <h2 class="no-num heading settled" id="glossary"><span class="content">Glossary</span><a class="self-link" href="#glossary"></a></h2>
    <h3 class="no-num heading settled" id="common-abstract-operations"><span class="content">Common abstract operations</span><a class="self-link" href="#common-abstract-operations"></a></h3>
    <p class="issue" id="issue-c1ad3571①"><a class="self-link" href="#issue-c1ad3571①"></a> To be written. <a href="https://github.com/TimothyGu/es-howto/issues/3">&lt;https://github.com/TimothyGu/es-howto/issues/3></a></p>
   </div>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#exclamation-mark">!</a><span>, in §2.4</span>
   <li><a href="#question-mark">?</a><span>, in §2.4</span>
   <li><a href="#abrupt-completion">abrupt completion</a><span>, in §2.4</span>
   <li><a href="#abstract-operation">abstract operation</a><span>, in §2.2</span>
   <li><a href="#dom-completion-record-type-break">break</a><span>, in §2.4</span>
   <li><a href="#callable-object">callable object</a><span>, in §2.5</span>
   <li><a href="#completion-record">Completion Record</a><span>, in §2.4</span>
   <li><a href="#dom-completion-record-type-continue">continue</a><span>, in §2.4</span>
   <li><a href="#double-brackets-notation">double brackets notation</a><span>, in §2.3</span>
   <li><a href="#exotic-object">exotic object</a><span>, in §2.5</span>
   <li><a href="#record-field">field</a><span>, in §2.3.1</span>
   <li><a href="#function-object">function object</a><span>, in §2.5</span>
   <li><a href="#internal-method">internal method</a><span>, in §2.5</span>
   <li><a href="#internal-slot">internal slot</a><span>, in §2.5</span>
   <li><a href="#abstract-opdef-newtarget">NewTarget</a><span>, in §2.7</span>
   <li><a href="#dom-completion-record-type-normal">normal</a><span>, in §2.4</span>
   <li><a href="#normal-completion">normal completion</a><span>, in §2.4</span>
   <li><a href="#ordinary-object">ordinary object</a><span>, in §2.5</span>
   <li><a href="#record">Record</a><span>, in §2.3.1</span>
   <li><a href="#dom-completion-record-type-return">return</a><span>, in §2.4</span>
   <li><a href="#completion-record-target">[[Target]]</a><span>, in §2.4</span>
   <li><a href="#dom-completion-record-type-throw">throw</a><span>, in §2.4</span>
   <li><a href="#completion-record-type">[[Type]]</a><span>, in §2.4</span>
   <li><a href="#completion-record-value">[[Value]]</a><span>, in §2.4</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[CONSOLE]</a> defines the following terms:
    <ul>
     <li><a href="https://console.spec.whatwg.org/#namespacedef-console">console</a>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><a href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener">addEventListener(type, callback)</a>
    </ul>
   <li>
    <a data-link-type="biblio">[ECMA-262]</a> defines the following terms:
    <ul>
     <li><a href="https://tc39.github.io/ecma262/#sec-array-objects">Array</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-array.prototype.foreach">Array.prototype.forEach()</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-arraybuffer-objects">ArrayBuffer</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-boolean-constructor-boolean-value">Boolean()</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-call">Call</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-function-objects">Function</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-getmethod">GetMethod</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-getprototypefromconstructor">GetPrototypeFromConstructor</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-getv">GetV</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-isdatadescriptor">IsDataDescriptor</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-map-objects">Map</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-math-object">Math</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-number-objects">Number</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-numbertostring">NumberToString</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-object-objects">Object</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols">Object.getOwnPropertySymbols()</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-ordinarycreatefromconstructor">OrdinaryCreateFromConstructor</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-ordinaryget">OrdinaryGet</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof">OrdinaryGetPrototypeOf</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-ordinarytoprimitive">OrdinaryToPrimitive</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-promise-objects">Promise</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-proxy-objects">Proxy</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-regexp-regular-expression-objects">RegExp</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-requireobjectcoercible">RequireObjectCoercible</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-returnifabrupt">ReturnIfAbrupt</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-string-constructor-string-value">String()</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-string.prototype.substring">String.prototype.substring()</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-stringcreate">StringCreate</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-symboldescriptivestring">SymbolDescriptiveString</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-toboolean">ToBoolean</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-tonumber">ToNumber</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-toprimitive">ToPrimitive</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-tostring">ToString</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values">Type</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-typedarray-objects">Uint8Array</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-proxy-object-internal-methods-and-internal-slots-getprototypeof">[[GetPrototypeOf]]</a>
     <li><a href="https://tc39.github.io/ecma262/#sec-property-descriptor-specification-type">property descriptor</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement">HTMLElement</a>
     <li><a href="https://html.spec.whatwg.org/multipage/window-object.html#windowproxy">WindowProxy</a>
     <li><a href="https://html.spec.whatwg.org/multipage/workers.html#worker">Worker</a>
     <li><a href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-alert">alert(message)</a>
     <li><a href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#dom-confirm">confirm(message)</a>
     <li><a href="https://html.spec.whatwg.org/multipage/window-object.html#dom-document-2">document</a>
     <li><a href="https://html.spec.whatwg.org/multipage/window-object.html#dom-window">window</a>
    </ul>
   <li>
    <a data-link-type="biblio">[NODEJS]</a> defines the following terms:
    <ul>
     <li><a href="https://nodejs.org/api/buffer.html#buffer_class_buffer">Buffer</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_dirname">__dirname</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_filename">__filename</a>
     <li><a href="https://nodejs.org/api/globals.html#globals_clearimmediate_immediateobject">clearImmediate()</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_exports">exports</a>
     <li><a href="https://nodejs.org/api/globals.html#globals_global">global</a>
     <li><a href="https://nodejs.org/api/globals.html#globals_global_objects">globals</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_module">module</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_modules">modules</a>
     <li><a href="https://nodejs.org/api/globals.html#globals_process">process</a>
     <li><a href="https://nodejs.org/api/modules.html#modules_require">require()</a>
     <li><a href="https://nodejs.org/api/globals.html#globals_setimmediate_callback_args">setImmediate()</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-caniuse">[CANIUSE]
   <dd><a href="https://caniuse.com">Can I use... Support tables for HTML5, CSS3, etc</a>. URL: <a href="https://caniuse.com">https://caniuse.com</a>
   <dt id="biblio-console">[CONSOLE]
   <dd>Dominic Farolino; Terin Stock; Robert Kowalski. <a href="https://console.spec.whatwg.org/">Console Standard</a>. Living Standard. URL: <a href="https://console.spec.whatwg.org/">https://console.spec.whatwg.org/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-ecma-262">[ECMA-262]
   <dd><a href="https://tc39.github.io/ecma262/">ECMAScript Language Specification</a>. URL: <a href="https://tc39.github.io/ecma262/">https://tc39.github.io/ecma262/</a>
   <dt id="biblio-ecma-262-2017">[ECMA-262-2017]
   <dd><a href="https://ecma-international.org/ecma-262/8.0/">ECMAScript® 2017 Language Specification</a>. URL: <a href="https://ecma-international.org/ecma-262/8.0/">https://ecma-international.org/ecma-262/8.0/</a>
   <dt id="biblio-ecma-262-global">[ECMA-262-GLOBAL]
   <dd><a href="https://github.com/tc39/proposal-global">tc39/proposal-global: ECMAScript Proposal, specs, and reference implementation for `global`</a>. URL: <a href="https://github.com/tc39/proposal-global">https://github.com/tc39/proposal-global</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-iso-16262-2011">[ISO-16262-2011]
   <dd><a href="https://www.iso.org/standard/55755.html">ISO/IEC 16262:2011 - Information technology -- Programming languages, their environments and system software interfaces -- ECMAScript language specification</a>. URL: <a href="https://www.iso.org/standard/55755.html">https://www.iso.org/standard/55755.html</a>
   <dt id="biblio-johnny-five">[JOHNNY-FIVE]
   <dd><a href="http://johnny-five.io/">Johnny-Five: The JavaScript Robotics &amp; IoT Platform</a>. URL: <a href="http://johnny-five.io/">http://johnny-five.io/</a>
   <dt id="biblio-nodejs">[NODEJS]
   <dd><a href="https://nodejs.org/">Node.js</a>. URL: <a href="https://nodejs.org/">https://nodejs.org/</a>
   <dt id="biblio-nodejs-nasa">[NODEJS-NASA]
   <dd><a href="https://foundation.nodejs.org/wp-content/uploads/sites/50/2017/09/Node_CaseStudy_Nasa_FNL.pdf">Node.js Helps NASA Keep Astronauts Safe and Data Accessible</a>. URL: <a href="https://foundation.nodejs.org/wp-content/uploads/sites/50/2017/09/Node_CaseStudy_Nasa_FNL.pdf">https://foundation.nodejs.org/wp-content/uploads/sites/50/2017/09/Node_CaseStudy_Nasa_FNL.pdf</a>
   <dt id="biblio-tc39">[TC39]
   <dd><a href="https://www.ecma-international.org/memento/TC39.htm">TC39 - ECMAScript</a>. URL: <a href="https://www.ecma-international.org/memento/TC39.htm">https://www.ecma-international.org/memento/TC39.htm</a>
   <dt id="biblio-wat">[WAT]
   <dd>Gary Bernhardt. <a href="https://www.destroyallsoftware.com/talks/wat">Wat</a>. URL: <a href="https://www.destroyallsoftware.com/talks/wat">https://www.destroyallsoftware.com/talks/wat</a>
   <dt id="biblio-whatismybrowser">[WHATISMYBROWSER]
   <dd><a href="https://www.whatsmybrowser.org/">What browser am I using?</a>. URL: <a href="https://www.whatsmybrowser.org/">https://www.whatsmybrowser.org/</a>
   <dt id="biblio-xkcd-703">[XKCD-703]
   <dd>Randall Munroe. <a href="https://www.xkcd.com/703/">xkcd: Honor Societies</a>. URL: <a href="https://www.xkcd.com/703/">https://www.xkcd.com/703/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> To be written. <a href="https://github.com/TimothyGu/es-howto/issues/2">&lt;https://github.com/TimothyGu/es-howto/issues/2></a><a href="#issue-c1ad3571"> ↵ </a></div>
   <div class="issue"> To be written. <a href="https://github.com/TimothyGu/es-howto/issues/3">&lt;https://github.com/TimothyGu/es-howto/issues/3></a><a href="#issue-c1ad3571①"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="double-brackets-notation">
   <b><a href="#double-brackets-notation">#double-brackets-notation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-double-brackets-notation">2.3.1. A field of a Record</a>
    <li><a href="#ref-for-double-brackets-notation①">2.3.2. An internal slot of a JavaScript Object</a>
    <li><a href="#ref-for-double-brackets-notation②">2.3.3. An internal method of a JavaScript Object</a> <a href="#ref-for-double-brackets-notation③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="record">
   <b><a href="#record">#record</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-record">2.3.1. A field of a Record</a> <a href="#ref-for-record①">(2)</a> <a href="#ref-for-record②">(3)</a> <a href="#ref-for-record③">(4)</a> <a href="#ref-for-record④">(5)</a>
    <li><a href="#ref-for-record⑤">2.3.2. An internal slot of a JavaScript Object</a>
    <li><a href="#ref-for-record⑥">2.4. Completion Records; ? and !</a> <a href="#ref-for-record⑦">(2)</a> <a href="#ref-for-record⑧">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="record-field">
   <b><a href="#record-field">#record-field</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-record-field">2.3.1. A field of a Record</a> <a href="#ref-for-record-field①">(2)</a>
    <li><a href="#ref-for-record-field②">2.3.2. An internal slot of a JavaScript Object</a> <a href="#ref-for-record-field③">(2)</a>
    <li><a href="#ref-for-record-field④">2.4. Completion Records; ? and !</a> <a href="#ref-for-record-field⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="completion-record">
   <b><a href="#completion-record">#completion-record</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-completion-record">2.4. Completion Records; ? and !</a> <a href="#ref-for-completion-record①">(2)</a> <a href="#ref-for-completion-record②">(3)</a> <a href="#ref-for-completion-record③">(4)</a> <a href="#ref-for-completion-record④">(5)</a> <a href="#ref-for-completion-record⑤">(6)</a> <a href="#ref-for-completion-record⑥">(7)</a> <a href="#ref-for-completion-record⑦">(8)</a> <a href="#ref-for-completion-record⑧">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="completion-record-type">
   <b><a href="#completion-record-type">#completion-record-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-completion-record-type">2.4. Completion Records; ? and !</a> <a href="#ref-for-completion-record-type①">(2)</a> <a href="#ref-for-completion-record-type②">(3)</a> <a href="#ref-for-completion-record-type③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-completion-record-type-normal">
   <b><a href="#dom-completion-record-type-normal">#dom-completion-record-type-normal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-completion-record-type-normal">2.4. Completion Records; ? and !</a> <a href="#ref-for-dom-completion-record-type-normal①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-completion-record-type-return">
   <b><a href="#dom-completion-record-type-return">#dom-completion-record-type-return</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-completion-record-type-return">2.4. Completion Records; ? and !</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-completion-record-type-throw">
   <b><a href="#dom-completion-record-type-throw">#dom-completion-record-type-throw</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-completion-record-type-throw">2.4. Completion Records; ? and !</a> <a href="#ref-for-dom-completion-record-type-throw①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-completion-record-type-break">
   <b><a href="#dom-completion-record-type-break">#dom-completion-record-type-break</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-completion-record-type-break">2.4. Completion Records; ? and !</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-completion-record-type-continue">
   <b><a href="#dom-completion-record-type-continue">#dom-completion-record-type-continue</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-completion-record-type-continue">2.4. Completion Records; ? and !</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="completion-record-value">
   <b><a href="#completion-record-value">#completion-record-value</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-completion-record-value">2.4. Completion Records; ? and !</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="normal-completion">
   <b><a href="#normal-completion">#normal-completion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-normal-completion">2.4. Completion Records; ? and !</a> <a href="#ref-for-normal-completion①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="abrupt-completion">
   <b><a href="#abrupt-completion">#abrupt-completion</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abrupt-completion">2.4. Completion Records; ? and !</a> <a href="#ref-for-abrupt-completion①">(2)</a> <a href="#ref-for-abrupt-completion②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="question-mark">
   <b><a href="#question-mark">#question-mark</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-question-mark">2.4. Completion Records; ? and !</a> <a href="#ref-for-question-mark①">(2)</a> <a href="#ref-for-question-mark②">(3)</a> <a href="#ref-for-question-mark③">(4)</a>
    <li><a href="#ref-for-question-mark④">2.6. Example: String.prototype.substring()</a> <a href="#ref-for-question-mark⑤">(2)</a>
    <li><a href="#ref-for-question-mark⑥">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a href="#ref-for-question-mark⑦">(2)</a> <a href="#ref-for-question-mark⑧">(3)</a> <a href="#ref-for-question-mark⑨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="exclamation-mark">
   <b><a href="#exclamation-mark">#exclamation-mark</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exclamation-mark">2.4. Completion Records; ? and !</a> <a href="#ref-for-exclamation-mark①">(2)</a> <a href="#ref-for-exclamation-mark②">(3)</a> <a href="#ref-for-exclamation-mark③">(4)</a>
    <li><a href="#ref-for-exclamation-mark④">2.6. Example: String.prototype.substring()</a>
    <li><a href="#ref-for-exclamation-mark⑤">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a href="#ref-for-exclamation-mark⑥">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="internal-method">
   <b><a href="#internal-method">#internal-method</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-internal-method">2.3.3. An internal method of a JavaScript Object</a> <a href="#ref-for-internal-method①">(2)</a> <a href="#ref-for-internal-method②">(3)</a> <a href="#ref-for-internal-method③">(4)</a>
    <li><a href="#ref-for-internal-method④">2.5. JavaScript Objects</a> <a href="#ref-for-internal-method⑤">(2)</a> <a href="#ref-for-internal-method⑥">(3)</a> <a href="#ref-for-internal-method⑦">(4)</a> <a href="#ref-for-internal-method⑧">(5)</a> <a href="#ref-for-internal-method⑨">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ordinary-object">
   <b><a href="#ordinary-object">#ordinary-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ordinary-object">2.5. JavaScript Objects</a> <a href="#ref-for-ordinary-object①">(2)</a> <a href="#ref-for-ordinary-object②">(3)</a> <a href="#ref-for-ordinary-object③">(4)</a> <a href="#ref-for-ordinary-object④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="exotic-object">
   <b><a href="#exotic-object">#exotic-object</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exotic-object">2.5. JavaScript Objects</a> <a href="#ref-for-exotic-object①">(2)</a> <a href="#ref-for-exotic-object②">(3)</a> <a href="#ref-for-exotic-object③">(4)</a> <a href="#ref-for-exotic-object④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="internal-slot">
   <b><a href="#internal-slot">#internal-slot</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-internal-slot">2.3.2. An internal slot of a JavaScript Object</a> <a href="#ref-for-internal-slot①">(2)</a> <a href="#ref-for-internal-slot②">(3)</a> <a href="#ref-for-internal-slot③">(4)</a> <a href="#ref-for-internal-slot④">(5)</a> <a href="#ref-for-internal-slot⑤">(6)</a> <a href="#ref-for-internal-slot⑥">(7)</a>
    <li><a href="#ref-for-internal-slot⑦">2.3.3. An internal method of a JavaScript Object</a>
    <li><a href="#ref-for-internal-slot⑧">2.5. JavaScript Objects</a> <a href="#ref-for-internal-slot⑨">(2)</a> <a href="#ref-for-internal-slot①⓪">(3)</a> <a href="#ref-for-internal-slot①①">(4)</a> <a href="#ref-for-internal-slot①②">(5)</a> <a href="#ref-for-internal-slot①③">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="abstract-opdef-newtarget">
   <b><a href="#abstract-opdef-newtarget">#abstract-opdef-newtarget</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-abstract-opdef-newtarget">2.7. Example: Can Boolean() and String() ever throw exceptions?</a> <a href="#ref-for-abstract-opdef-newtarget①">(2)</a> <a href="#ref-for-abstract-opdef-newtarget②">(3)</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>